hooks:
  post-clone:
    jobs:
      - name: lefthook-install
        run: lefthook install

  worktree-post-create:
    jobs:
      - name: mise trust
        run: mise trust
      - name: mise install
        run: mise install
        needs: [mise trust]
      - name: bun install
        run: bun install
        needs: [mise install]
      - name: direnv allow
        run: direnv allow {worktree_path}

  worktree-pre-remove:
    jobs:
      - name: direnv revoke
        run: direnv revoke {worktree_path}
